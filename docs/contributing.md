---
layout: default
---
# Контрибьютинг

## Начало работы
```bash
# 1. Скачать свежую версию
git clone https://github.com/captaindrewsa/gene_sys.git
cd repo

# 2. Настроить имя (если первый раз)
git config --global user.name "Твоё Имя"
git config --global user.email "твоя@почта.com"
```

## Ежедневная рутина

### Шаг 1
```bash
git checkout main       # Перейти в основную ветку
git pull origin main    # Скачать свежие изменения
```
### Шаг 2
```bash
# Название ветки = тип/краткое-описание
git checkout -b feature/новая-фича              # для новой функциональности
git checkout -b fix/исправление-бага            # для исправления ошибки
git checkout -b docs/обновление-документации    # для документации
```
### Шаг 3
```bash
# Именно КОМИТИТЬ стараемся регулярно (минимум 1 раз в день, чтобы не потерять прогресс)
git add .                    # Добавить ВСЕ изменения
git commit -m "Описание что сделал"
# ИЛИ лучше:
git add конкретный_файл     # Добавить конкретные файлы
git commit -m "Кратко: что сделано

• Подробное описание
• Какие изменения внес
• Почему это важно"
```
### Шаг 4
```bash
# Отправить всю свою эксперементальную ветку на GitHub
git push --force-with-lease origin имя-твоей-ветки

# Пример:
git push --force-with-lease origin feature/новая-фича
```
### Шаг 5
#### Создать Pull Request (PR)
1. Зайти на GitHub → наш репозиторий
2. Нажать "**Compare & pull request**" (появится после того, как вы **git push** сделаете)
3. Заполнить форму:
   - **Title**: \[Feature\Fix\...\] Добавил новую функциональность
   - **Description**: Что сделал, зачем, как тестировать, пожелания и т.д.
   - **Assign**: Можете попробовать назначить ревьюеров
   - **Labels**: добавить теги (bug, fix, и т.д.)
4. Нажать "**Create pull request**"

### Шаг 6
Жди комментариев от ревьюверов!\
Если есть замечания — исправь в той же ветке:
```bash
git add . #Что-то поменял у себя, затем "add"
git commit -m "Исправил замечания по ревью"
git push origin имя-ветки  # Изменения автоматом добавятся в созданный на сайте PR
```

### Шаг 7
```bash
# 1. Вернуться в main
git checkout main

# 2. Скачать обновлённую версию
git pull origin main

# 3. Удалить локальную ветку (чтобы не захламлять)
git branch -d имя-закрытой-ветки

# 4. Удалить ветку на GitHub (если не удалилась автоматом, либо оповестить мейнтейнера)
git push origin --delete имя-ветки
```
### **ЗАПРЕЩЕННО**
#### НИКОГДА
```bash
git push origin main --force          # Не ломай историю другим!
git commit -m "."                     # Не пиши пустые сообщения
git add . && git commit -m "fix"      # Не коммить всё подряд без разбора
```
#### НЕ РАБОТАТЬ В **main**
Все изменения только **в ваших** feature/fix/docs ветках!
#### НЕ ПУШИТЬ ПРЯМО В main/dev:
Только через **Pull Request** с аппрувами!

### Подсказки
#### Ситуация 1: Забыл создать ветку, работал в main
```bash
git checkout -b спасательная-ветка  # изменения сохранятся, но теперь уже на новой ветке
git checkout main                   # переключаемся на испорченную main/dev
git reset --hard origin/main        # откатить main к origin (это ваше локальное именование удаленного репозитория)
```
#### Ситуация 2: Конфликт при pull
```bash
git pull origin main
# Если конфликт → исправить файлы вручную
git add .
git commit -m "Разрешил конфликт"
#Можно работать дальше
```
#### Ситуация 3: Ветка устарела
```bash
git checkout твоя-ветка
git merge main          # влить изменения ИЗ main
# или
git rebase main         # переставить коммиты поверх свежего main (рекомендую!)
```
#### Общие подсказки
```bash
git push origin ЧТО_ОТПРАВЛЯЕМ                  # не важно в какой ветке мы сейчас, отправим то, что после origin не в какие-то конкретные ветки, а в корень репозитория
git push origin локальная_ветка:удалённая_ветка # здесь уже уточняем, ЧТО и КУДА отправить хотим
#например:
git push origin feature/моя-ветка:dev           # пушим коммиты из "feature/моя-ветка" в "dev" в удаленном репозитории
git push origin dev:main                        # пушшим коммиты из локальной ветки dev в удаленную ветку main
git push origin HEAD:staging                    # текущая ветка -> staging
```
Когда вы используете:
```bash
git push origin feat/моя-ветка
```
это расшифровывается как:
```bash
git push origin feat/моя-ветка:feat/моя-ветка
```
То есть, если ```feat/моя-ветка``` не существовала - она создастся, если существовала - вы просто опускаете уточнение что отправляете ее же.